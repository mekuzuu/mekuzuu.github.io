<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://mekuzuu.github.io/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>Go Tech Talk【サイバーエージェント x ミラティブ】に参加した</title></head><body><header id=banner><h2><a href=https://mekuzuu.github.io/>misc.log()</a></h2><nav><ul><li><a href=/about/ title=about>about</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Go Tech Talk【サイバーエージェント x ミラティブ】に参加した</h1><div><time>April 19, 2022</time></div></header><p>先日、Goを題材とした技術イベントに参加した時のメモ。<br>あまりうまくメモを取ることができなかったけど、残しておく。</p><h1 id=イベント概要>イベント概要</h1><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>日時</td><td>2022/04/14</td></tr><tr><td>イベント名</td><td>Go Tech Talk【サイバーエージェント x ミラティブ】</td></tr><tr><td>詳細</td><td><a href=https://mirrativ.connpass.com/event/243037/>https://mirrativ.connpass.com/event/243037/</a></td></tr></tbody></table><h1 id=発表>発表</h1><h3 id=go--githubactions-でリリースフローを改善した話>Go + GitHubActions でリリースフローを改善した話</h3><ul><li>現状は設定ファイルのtagを書き換えたのをトリガにGithub Actionsがtagを打つ</li><li>そして、CIはtagが打たれたのをトリガにデプロイする</li><li>設定ファイルのtagを手動で書き換えるの手間なので、自動化したい</li><li>Github ActionsのWorkflow Dispatchを使っている</li><li>yamlのI/Oでハマった</li><li>goccy/go-yamlを使って解決<ul><li><a href=https://github.com/goccy/go-yaml>https://github.com/goccy/go-yaml</a></li></ul></li></ul><h3 id=ミラティブのサーバサイドをgo--clean-architectureに再設計した話>ミラティブのサーバサイドをGo + Clean Architectureに再設計した話</h3><ul><li><a href=https://tech.mirrativ.stream/entry/2020/11/30/142354>https://tech.mirrativ.stream/entry/2020/11/30/142354</a></li><li>求められる要件<ul><li>リアルタイム性/即時性</li><li>データ量多い</li><li>アクセスの時間的局所性が高い</li></ul></li><li>元々MVC + Serviceだけど、依存関係がスパゲティ</li><li>Clean Architectureでコンポーネントの依存性を一方向にすることを最重要視</li><li>PerlからGoへ移行している</li></ul><h3 id=goでcontinuous-profilingをやっている話>GoでContinuous Profilingをやっている話</h3><ul><li><a href=https://tech.mirrativ.stream/entry/2020/12/18/115553>https://tech.mirrativ.stream/entry/2020/12/18/115553</a></li><li>本番環境で継続的にProfilingすること</li><li>Profilingすることで問題が発生する前後の状態を比較できる</li><li>pprofを採用</li><li>オーバヘッドが小さいので、本番環境でも利用できる</li><li>しかし、Profiling結果の保存先、保存したProfiling結果の検索・抽出方法が課題としてあった</li><li>そこで、profefeというOSSを導入して解決<ul><li><a href=https://github.com/profefe/profefe>https://github.com/profefe/profefe</a></li></ul></li></ul><h1 id=パネルトーク>パネルトーク</h1><h3 id=技術的に大変だったことは>技術的に大変だったことは</h3><ul><li>JavaはSpringなどの有名なフレームワークがあって便利だけど、Goはないので自前でがんばったりする必要があるところ</li><li>二重メンテが必要になるので辛い</li></ul><h3 id=go未経験メンバーのキャッチアップスピードを早める工夫は>Go未経験メンバーのキャッチアップスピードを早める工夫は</h3><ul><li>Tour of Go、Effectiv Go</li><li>とにかく実戦投入</li><li>あまり工夫してない（言語仕様がシンプル、lintもあるので変なコードか出にくい）</li><li>Java書いている人がGo書くと、Javaっぽいコードが散見されるらしい</li></ul><h3 id=最近のhot-topicは>最近のHot Topicは</h3><ul><li>Go Generics何に使おう問題（ないのが当たり前だったから思いつかない）</li></ul><h1 id=感想>感想</h1><ul><li>総じて面白かった</li><li>CAは入社2年目くらいの人が堂々と発表&パネルトークしていて、おじさんは尊敬の念を抱いた</li><li>Genericsを何に使うかパッと思いつかないあたり、同じことを思っていて安心した</li><li>ミラティブのクリーンアーキテクチャの発表は、2020/11/30の技術ブログのネタと同じっぽいけど、まだ完全にGoへは移行しきれてないということなのかな</li><li>リリースフローを改善したってやつは、どれくらい効率化できたかもう少し詳しく知りたかった（聞けばよかった）</li></ul></article></main><footer id=footer>Copyright © mekuzuu</footer></body></html>